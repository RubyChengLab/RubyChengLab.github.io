---
layout: default
title: Falling Comet Lab
---

<style>
  body {
    background-image: url('{{ "/images/bg.jpeg" | absolute_url }}') !important;
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    background-repeat: no-repeat;
  }
  .content-container {
    background-color: rgba(255, 255, 255, 0.85);
    border-radius: 12px;
    padding: 40px;
    margin: 140px auto 0 auto;
    max-width: 960px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #2a2a2a;
  }
  section {
    border: 1px solid #eee;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    border-radius: 12px;
    padding: 16px;
  }
</style>
<head>
  <link rel="icon" href="/images/szru1-rocxt-001.ico" type="image/x-icon">
</head>
<body>
  <div class="content-container">
    <section>
      <h2>ğŸ“Œ æœ€æ–°æ–‡ç« </h2>
      <ul>
        {% for post in site.posts limit:5 %}
        <li><a href="{{ post.url }}">{{ post.title }}</a> ({{ post.date | date: "%Y-%m-%d" }})</li>
        {% endfor %}
      </ul>
    </section>

    <section>
      <h3>ğŸ·ï¸ Tags</h3>
      {% for tag in site.tags %}
      <a href="/tags/{{ tag[0] }}" style="margin:8px; padding:6px 12px; background:#f7f7f7; border-radius:12px; display:inline-block; color:#333; text-decoration:none;">
        {{ tag[0] }}
      </a>
      {% endfor %}
    </section>

    <!-- ğŸ‘ï¸ ç€è¦½æ¬¡æ•¸å¡åœ¨é€™è£¡ -->
    <div id="view-counter" style="margin-top:24px; text-align:center; font-weight:bold;"></div>

  </div>
</body>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, doc, updateDoc, increment, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const app = initializeApp({
  apiKey: "AIzaSyBmR7K4ECZA0Vv0PlHn6dMxg5P06UsBnq0",
  authDomain: "falling-comet-lab-blog.firebaseapp.com",
  databaseURL: "https://falling-comet-lab-blog-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "falling-comet-lab-blog",
  storageBucket: "falling-comet-lab-blog.firebasestorage.app",
  messagingSenderId: "275403715950",
  appId: "1:275403715950:web:25383ec082d6ff3338bd7f",
  measurementId: "G-TRDSPMNYQK"
});

const db = getFirestore(app);

async function countView() {
  const id = location.pathname.replace(/\//g, "_") || "index";
  const ref = doc(db, "posts", id);
  try {
    await updateDoc(ref, { views: increment(1) });
  } catch {
    await setDoc(ref, { views: 1 });
  }
  const snap = await getDoc(ref);
  if (snap.exists()) {
    document.getElementById("view-counter").innerText =
      `ğŸ‘ï¸ ç€è¦½æ¬¡æ•¸ï¼š${snap.data().views} æ¬¡`;
  }
}

countView();
</script>
